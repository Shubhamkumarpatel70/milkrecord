<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .icon-preview {
            display: inline-block;
            margin: 10px;
            text-align: center;
        }
        canvas {
            border: 1px solid #ccc;
            margin: 5px;
        }
        button {
            background: #4F46E5;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #3730A3;
        }
    </style>
</head>
<body>
    <h1>Milk Record App Icon Generator</h1>
    <p>This tool helps generate different icon sizes for the web app.</p>
    
    <div id="iconPreviews"></div>
    
    <div style="margin-top: 20px;">
        <button onclick="downloadAllIcons()">Download All Icons</button>
        <button onclick="copyManifest()">Copy Updated Manifest</button>
    </div>

    <script>
        const iconSizes = [16, 32, 48, 72, 96, 128, 144, 152, 192, 384, 512];
        const iconSvg = `
        <svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
            <!-- Background circle -->
            <circle cx="256" cy="256" r="240" fill="#4F46E5"/>
            
            <!-- Milk bottle -->
            <path d="M200 120h112c8.8 0 16 7.2 16 16v200c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V136c0-8.8 7.2-16 16-16z" fill="white"/>
            <path d="M200 120h112v-20c0-8.8-7.2-16-16-16H216c-8.8 0-16 7.2-16 16v20z" fill="#E5E7EB"/>
            
            <!-- Milk level -->
            <rect x="208" y="280" width="96" height="40" fill="#FEF3C7" rx="4"/>
            
            <!-- Chart bars -->
            <rect x="220" y="340" width="16" height="60" fill="#10B981" rx="2"/>
            <rect x="244" y="320" width="16" height="80" fill="#10B981" rx="2"/>
            <rect x="268" y="300" width="16" height="100" fill="#10B981" rx="2"/>
            <rect x="292" y="280" width="16" height="120" fill="#10B981" rx="2"/>
            
            <!-- Drop icon -->
            <path d="M256 180c-8.8 0-16 7.2-16 16 0 8.8 16 40 16 40s16-31.2 16-40c0-8.8-7.2-16-16-16z" fill="#3B82F6"/>
            
            <!-- App name -->
            <text x="256" y="420" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="24" font-weight="bold">MILK</text>
            <text x="256" y="450" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="24" font-weight="bold">RECORD</text>
        </svg>`;

        function createIcon(size) {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            
            const img = new Image();
            const svgBlob = new Blob([iconSvg], {type: 'image/svg+xml'});
            const url = URL.createObjectURL(svgBlob);
            
            img.onload = function() {
                ctx.drawImage(img, 0, 0, size, size);
                URL.revokeObjectURL(url);
            };
            img.src = url;
            
            return canvas;
        }

        function generateIcons() {
            const container = document.getElementById('iconPreviews');
            container.innerHTML = '';
            
            iconSizes.forEach(size => {
                const div = document.createElement('div');
                div.className = 'icon-preview';
                
                const canvas = createIcon(size);
                const label = document.createElement('div');
                label.textContent = `${size}x${size}`;
                
                div.appendChild(canvas);
                div.appendChild(label);
                container.appendChild(div);
            });
        }

        function downloadAllIcons() {
            iconSizes.forEach(size => {
                const canvas = createIcon(size);
                canvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `icon-${size}x${size}.png`;
                    a.click();
                    URL.revokeObjectURL(url);
                });
            });
        }

        function copyManifest() {
            const manifest = {
                "short_name": "MILK RECORD",
                "name": "Milk Record Management App",
                "description": "Track and manage your milk production records",
                "icons": [
                    {
                        "src": "favicon.ico",
                        "sizes": "64x64 32x32 24x24 16x16",
                        "type": "image/x-icon"
                    },
                    {
                        "src": "icon-16x16.png",
                        "type": "image/png",
                        "sizes": "16x16"
                    },
                    {
                        "src": "icon-32x32.png",
                        "type": "image/png",
                        "sizes": "32x32"
                    },
                    {
                        "src": "icon-48x48.png",
                        "type": "image/png",
                        "sizes": "48x48"
                    },
                    {
                        "src": "icon-72x72.png",
                        "type": "image/png",
                        "sizes": "72x72"
                    },
                    {
                        "src": "icon-96x96.png",
                        "type": "image/png",
                        "sizes": "96x96"
                    },
                    {
                        "src": "icon-128x128.png",
                        "type": "image/png",
                        "sizes": "128x128"
                    },
                    {
                        "src": "icon-144x144.png",
                        "type": "image/png",
                        "sizes": "144x144"
                    },
                    {
                        "src": "icon-152x152.png",
                        "type": "image/png",
                        "sizes": "152x152"
                    },
                    {
                        "src": "icon-192x192.png",
                        "type": "image/png",
                        "sizes": "192x192"
                    },
                    {
                        "src": "icon-384x384.png",
                        "type": "image/png",
                        "sizes": "384x384"
                    },
                    {
                        "src": "icon-512x512.png",
                        "type": "image/png",
                        "sizes": "512x512"
                    }
                ],
                "start_url": ".",
                "display": "standalone",
                "theme_color": "#4F46E5",
                "background_color": "#ffffff",
                "orientation": "portrait",
                "scope": "/",
                "lang": "en"
            };
            
            navigator.clipboard.writeText(JSON.stringify(manifest, null, 2)).then(() => {
                alert('Manifest copied to clipboard!');
            });
        }

        // Generate icons when page loads
        window.onload = generateIcons;
    </script>
</body>
</html> 